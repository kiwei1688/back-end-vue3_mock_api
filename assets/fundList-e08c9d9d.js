/* empty css             */import{E as K,a as W}from"./el-col-07a3f171.js";import{D as X,E as Z,a as x,b as ee,c as te}from"./DialogModal-ffc4fcbf.js";import{E as ae,a as le,b as oe}from"./el-form-item-d267b09f.js";import"./el-scrollbar-590813ff.js";import"./el-tooltip-09d00d63.js";import{E as ne}from"./el-button-f5a41626.js";import{d as se,ae as re,r as s,ad as ie,a5 as ue,a as f,c as y,j as m,I as t,m as r,w as l,aa as d,k as F,Q as M,U as ce,ak as N,ah as de,an as pe}from"./index-032c6402.js";const me={class:"content-wrap"},fe={class:"content-inner"},ve={class:"content-title"},_e={key:0,class:"tab_wrap flowDialog"},ge={style:{color:"#FF8000"}},he={style:{color:"#0080FF"}},be={key:0,style:{color:"#00d053"}},ye={key:1,style:{color:"#ff0000"}},$e=m("span",{style:{color:"#ff0000"}},null,-1),we={class:"pagination_wrap"},ke={key:1,class:"tab_wrap"},Ue=se({__name:"fundList",setup(Ce){const{t:g}=re(),u=s([]),v=s([]),E=s([]),h=s([]),j=ie(),A=s(),_=s(""),$=s(!1),D=s(),w=s(1),p=s(5),T=s(0),I=[5,10,15,20],Y="total, sizes, prev, pager, next, jumper";s(),s(),s(!0);const k=async()=>{const e="https://vue3-course-api.hexschool.io/api/royroy-api/admin/products/all";try{const{data:{success:a,products:i}}=await N.get(e);if(console.log("api取得數據 ~~~~~",i),a&&i){h.value=[];for(const[b,n]of Object.entries(i))h.value.push(n);u.value=h.value,v.value=h.value,E.value=h.value,B()}}catch(a){console.error("errrr",a)}};ue(()=>{A.value=j.getUser,k()});const z=()=>{$.value=!0,D.value={}},H=e=>{$.value=!0,D.value=e},L=async e=>{Z.confirm(g("comfirmDel"),g("tip"),{confirmButtonText:g("comfirm"),cancelButtonText:g("cancel"),type:"warning"}).then(async()=>{const a=`https://vue3-course-api.hexschool.io/api/royroy-api/admin/product/${e.id}`;try{await N.delete(a),k()}catch(i){console.error(i)}de({type:"success",message:g("delSuccess")})}).catch(()=>{})},S=()=>{setTimeout(()=>{const e=E.value.filter(a=>a.title.includes(_.value));u.value=e,v.value=e,E.value=e,B()},500)},V=()=>{_.value="",k()},R=e=>{w.value=1,p.value=e,u.value=v.value.filter((a,i)=>i<p.value)},O=e=>{const a=p.value*(e-1),i=v.value.filter((b,n)=>n>=a);u.value=i.filter((b,n)=>n<p.value)},B=()=>{T.value=v.value.length,w.value=1,p.value=5,u.value=v.value.filter((e,a)=>a<p.value)};return(e,a)=>{const i=pe,b=ae,n=ne,C=le,P=oe,c=x,U=ee,Q=te,q=K,G=W;return f(),y(ce,null,[m("div",me,[m("div",fe,[m("div",ve,[t(i,{class:"icons border border-solid border-blue-600"}),m("span",null,r(e.$t("moneyList.managements")),1)]),u.value.length>0?(f(),y("div",_e,[t(P,{inline:!0},{default:l(()=>[t(C,{label:e.$t("filterTitle")},{default:l(()=>[t(b,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=o=>_.value=o)},null,8,["modelValue"]),t(n,{type:"success",onClick:S},{default:l(()=>[d(r(e.$t("search")),1)]),_:1}),t(n,{type:"danger",onClick:V},{default:l(()=>[d(r(e.$t("reset")),1)]),_:1})]),_:1},8,["label"]),t(C,{class:"btn-right"},{default:l(()=>[t(n,{type:"primary",onClick:z},{default:l(()=>[d(r(e.$t("add")),1)]),_:1})]),_:1})]),_:1}),u.value.length>0?(f(),F(U,{key:0,border:"",data:u.value},{default:l(()=>[t(c,{flexd:"",type:"index",label:e.$t("serialNUm"),align:"center",width:"50"},null,8,["label"]),t(c,{prop:"category",label:e.$t("prdType"),align:"center",width:"90"},null,8,["label"]),t(c,{prop:"title",label:e.$t("prdTitle"),align:"center",width:"180"},null,8,["label"]),t(c,{prop:"origin_price",label:e.$t("oPrice"),align:"center",width:"100"},{default:l(({row:o})=>[m("span",ge,r(o.origin_price),1)]),_:1},8,["label"]),t(c,{prop:"price",label:e.$t("sPrice"),align:"center",width:"100"},{default:l(({row:o})=>[m("span",he,r(o.price),1)]),_:1},8,["label"]),t(c,{prop:"description",label:e.$t("description"),align:"center",width:"auto"},null,8,["label"]),t(c,{prop:"is_enabled",label:e.$t("enables"),align:"center",width:"90"},{default:l(({row:o})=>[o.is_enabled?(f(),y("span",be,r(e.$t("isStock")),1)):(f(),y("span",ye,r(e.$t("noStock")),1))]),_:1},8,["label"]),t(c,{prop:"date",label:e.$t("time"),align:"center",width:"150"},{default:l(({row:o})=>[$e,d(r(e.$day(new Date().getTime()).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1},8,["label"]),t(c,{flexd:"right",prop:"operation",label:e.$t("operate"),align:"center",width:"150"},{default:l(o=>[t(n,{size:"small",type:"success",onClick:J=>H(o.row)},{default:l(()=>[d(r(e.$t("edit")),1)]),_:2},1032,["onClick"]),t(n,{size:"small",type:"danger",onClick:J=>L(o.row)},{default:l(()=>[d(r(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])):M("",!0),u.value.length>0?(f(),F(G,{key:1},{default:l(()=>[t(q,{span:24},{default:l(()=>[m("div",we,[t(Q,{"current-page":w.value,"onUpdate:currentPage":a[1]||(a[1]=o=>w.value=o),"page-size":p.value,"onUpdate:pageSize":a[2]||(a[2]=o=>p.value=o),"page-sizes":I,small:"small",layout:Y,total:T.value,onSizeChange:R,onCurrentChange:O},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})):M("",!0)])):(f(),y("div",ke,[t(P,{inline:!0},{default:l(()=>[t(C,{label:e.$t("filterTitle")},{default:l(()=>[t(b,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=o=>_.value=o)},null,8,["modelValue"]),t(n,{type:"success",onClick:S},{default:l(()=>[d(r(e.$t("search")),1)]),_:1}),t(n,{type:"danger",onClick:V},{default:l(()=>[d(r(e.$t("reset")),1)]),_:1})]),_:1},8,["label"]),t(C,{class:"btn-right"},{default:l(()=>[t(n,{type:"primary",onClick:z},{default:l(()=>[d(r(e.$t("add")),1)]),_:1})]),_:1})]),_:1}),t(U)]))])]),t(X,{show:$.value,onCloseModal:a[4]||(a[4]=o=>$.value=!1),onHandleUpdateProfiles:k,getEditData:D.value,type:"flowDialog"},null,8,["show","getEditData"])],64)}}});export{Ue as default};
